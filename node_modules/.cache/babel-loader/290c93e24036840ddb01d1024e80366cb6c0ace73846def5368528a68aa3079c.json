{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import ItemList from'./components/ItemList';import AddItemForm from'./components/AddItemForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[items,setItems]=useState([]);const[error,setError]=useState(null);useEffect(()=>{axios.get('http://localhost:8000/api/todos/').then(response=>setItems(response.data.map(item=>item.title))).catch(error=>{console.error('Error fetching data:',error);setError('Error fetching data');});},[]);const addItem=item=>{const itemLowerCase=item.toLowerCase();const itemsLowerCase=items.map(i=>i.toLowerCase());if(!itemsLowerCase.includes(itemLowerCase)){axios.post('http://localhost:8000/api/todos/',{title:item}).then(response=>setItems([...items,response.data.title])).catch(error=>{console.error('Error adding item:',error);setError('Error adding item');});}else{alert(\"Item already exists!\");}};const deleteItem=index=>{const itemToDelete=items[index];axios.get('http://localhost:8000/api/todos/').then(response=>{const todo=response.data.find(todo=>todo.title===itemToDelete);if(todo){axios.delete(\"http://localhost:8000/api/todos/\".concat(todo.id,\"/\")).then(()=>setItems(items.filter((_,i)=>i!==index))).catch(error=>{console.error('Error deleting item:',error);setError('Error deleting item');});}}).catch(error=>{console.error('Error fetching data:',error);setError('Error fetching data');});};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My ToDo List\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(ItemList,{items:items,deleteItem:deleteItem}),/*#__PURE__*/_jsx(AddItemForm,{addItem:addItem})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","ItemList","AddItemForm","jsx","_jsx","jsxs","_jsxs","App","items","setItems","error","setError","get","then","response","data","map","item","title","catch","console","addItem","itemLowerCase","toLowerCase","itemsLowerCase","i","includes","post","alert","deleteItem","index","itemToDelete","todo","find","delete","concat","id","filter","_","className","children","style","color"],"sources":["/Users/naeimsalib/Desktop/Roulettech_Project/FrontEnd/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport ItemList from './components/ItemList';\nimport AddItemForm from './components/AddItemForm';\n\nfunction App() {\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/todos/')\n      .then(response => setItems(response.data.map(item => item.title)))\n      .catch(error => {\n        console.error('Error fetching data:', error);\n        setError('Error fetching data');\n      });\n  }, []);\n\n  const addItem = (item) => {\n    const itemLowerCase = item.toLowerCase();\n    const itemsLowerCase = items.map((i) => i.toLowerCase());\n\n    if (!itemsLowerCase.includes(itemLowerCase)) {\n      axios.post('http://localhost:8000/api/todos/', { title: item })\n        .then(response => setItems([...items, response.data.title]))\n        .catch(error => {\n          console.error('Error adding item:', error);\n          setError('Error adding item');\n        });\n    } else {\n      alert(\"Item already exists!\");\n    }\n  };\n\n  const deleteItem = (index) => {\n    const itemToDelete = items[index];\n    axios.get('http://localhost:8000/api/todos/')\n      .then(response => {\n        const todo = response.data.find(todo => todo.title === itemToDelete);\n        if (todo) {\n          axios.delete(`http://localhost:8000/api/todos/${todo.id}/`)\n            .then(() => setItems(items.filter((_, i) => i !== index)))\n            .catch(error => {\n              console.error('Error deleting item:', error);\n              setError('Error deleting item');\n            });\n        }\n      })\n      .catch(error => {\n        console.error('Error fetching data:', error);\n        setError('Error fetching data');\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>My ToDo List</h1>\n        {error && <p style={{ color: 'red' }}>{error}</p>}\n        <ItemList items={items} deleteItem={deleteItem} />\n        <AddItemForm addItem={addItem} />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,WAAW,CAClB,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACdC,KAAK,CAACY,GAAG,CAAC,kCAAkC,CAAC,CAC1CC,IAAI,CAACC,QAAQ,EAAIL,QAAQ,CAACK,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACC,IAAI,EAAIA,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CACjEC,KAAK,CAACT,KAAK,EAAI,CACdU,OAAO,CAACV,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,OAAO,CAAIJ,IAAI,EAAK,CACxB,KAAM,CAAAK,aAAa,CAAGL,IAAI,CAACM,WAAW,CAAC,CAAC,CACxC,KAAM,CAAAC,cAAc,CAAGhB,KAAK,CAACQ,GAAG,CAAES,CAAC,EAAKA,CAAC,CAACF,WAAW,CAAC,CAAC,CAAC,CAExD,GAAI,CAACC,cAAc,CAACE,QAAQ,CAACJ,aAAa,CAAC,CAAE,CAC3CtB,KAAK,CAAC2B,IAAI,CAAC,kCAAkC,CAAE,CAAET,KAAK,CAAED,IAAK,CAAC,CAAC,CAC5DJ,IAAI,CAACC,QAAQ,EAAIL,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAAEM,QAAQ,CAACC,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAC3DC,KAAK,CAACT,KAAK,EAAI,CACdU,OAAO,CAACV,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1CC,QAAQ,CAAC,mBAAmB,CAAC,CAC/B,CAAC,CAAC,CACN,CAAC,IAAM,CACLiB,KAAK,CAAC,sBAAsB,CAAC,CAC/B,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,KAAK,EAAK,CAC5B,KAAM,CAAAC,YAAY,CAAGvB,KAAK,CAACsB,KAAK,CAAC,CACjC9B,KAAK,CAACY,GAAG,CAAC,kCAAkC,CAAC,CAC1CC,IAAI,CAACC,QAAQ,EAAI,CAChB,KAAM,CAAAkB,IAAI,CAAGlB,QAAQ,CAACC,IAAI,CAACkB,IAAI,CAACD,IAAI,EAAIA,IAAI,CAACd,KAAK,GAAKa,YAAY,CAAC,CACpE,GAAIC,IAAI,CAAE,CACRhC,KAAK,CAACkC,MAAM,oCAAAC,MAAA,CAAoCH,IAAI,CAACI,EAAE,KAAG,CAAC,CACxDvB,IAAI,CAAC,IAAMJ,QAAQ,CAACD,KAAK,CAAC6B,MAAM,CAAC,CAACC,CAAC,CAAEb,CAAC,GAAKA,CAAC,GAAKK,KAAK,CAAC,CAAC,CAAC,CACzDX,KAAK,CAACT,KAAK,EAAI,CACdU,OAAO,CAACV,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CACDQ,KAAK,CAACT,KAAK,EAAI,CACdU,OAAO,CAACV,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,CAAC,CACN,CAAC,CAED,mBACEP,IAAA,QAAKmC,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBlC,KAAA,WAAQiC,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC5BpC,IAAA,OAAAoC,QAAA,CAAI,cAAY,CAAI,CAAC,CACpB9B,KAAK,eAAIN,IAAA,MAAGqC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAE9B,KAAK,CAAI,CAAC,cACjDN,IAAA,CAACH,QAAQ,EAACO,KAAK,CAAEA,KAAM,CAACqB,UAAU,CAAEA,UAAW,CAAE,CAAC,cAClDzB,IAAA,CAACF,WAAW,EAACmB,OAAO,CAAEA,OAAQ,CAAE,CAAC,EAC3B,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAAd,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}